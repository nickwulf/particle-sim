<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8" />
      <title>Particle Simulator Demo</title>
      <link rel="stylesheet" type="text/css" href="./static/particlesim/base.css">
      <style>
         body {
            margin: 8px;
         }
         #part-sim-level-area {
            display: flex;
            height: 25px;
            width: 100%;
            margin: 0 0 8px;
            justify-content: center;
            gap: 4px;
         }
         #part-sim-canvas {
            margin: 0 auto;
            max-width: 100%;
            max-height: calc(100vh - 16px - 33px);
         }
      </style>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
      <script src="./static/particlesim/base.js"></script>
      <script src="./static/particlesim/loadWorld.js"></script>

   </head>
   <body>

      <div id="part-sim-level-area">
         <select>
            <option disabled selected>Select Level</option>
            <option value="">Empty</option>
         </select>

         <button disabled>Load Level</button>
      </div>
      <div id="part-sim-wrapper">
         <canvas id="part-sim-canvas"></canvas>
      </div>

      <script>
         document.addEventListener('DOMContentLoaded', function() {
            // Use the following commented line as an example if you already know what level you want to load
            // loadWorld(WorldNames.Pool, world);

            let selectElem = document.querySelector('#part-sim-level-area select');
            let buttonElem = document.querySelector('#part-sim-level-area button');
            for (let w in WorldNames) {
               let opt = document.createElement('option');
               opt.innerText = w;
               opt.value = w;
               selectElem.appendChild(opt);
            }

            selectElem.addEventListener('change', function(evt) {
               buttonElem.disabled = false;
            });
            buttonElem.addEventListener('click', function(evt) {
               loadWorld(WorldNames[selectElem.value], world);
            });
         });
      </script>


   </body>
</html>
